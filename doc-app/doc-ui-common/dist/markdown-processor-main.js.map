{"version":3,"file":"markdown-processor-main.js","sourceRoot":"","sources":["markdown-processor-main.ts"],"names":[],"mappings":";;;;AAAA,mDAAsC;AACtC,wDAAwB;AACxB,oDAAoB;AACpB,2FAA8F;AAC9F,sCAAoC;AACpC,6DAAuD;AAiB/C,kGAjBA,sCAAiB,OAiBA;AAfzB,MAAM,GAAG,GAAG,IAAA,gBAAQ,EAAC,UAAU,CAAC,CAAC;AAEjC,MAAM,MAAM,GAAqC,IAAA,uCAAkB,EAAC,sCAAiB,EAAE;IACrF,IAAI,EAAE,QAAQ;IACd,cAAc,EAAE,YAAE,CAAC,oBAAoB,EAAE;IACzC,KAAK,EAAE,KAAK;IACZ,GAAG,CAAC,GAAG,IAAW;QAChB,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;IACpB,CAAC;IACD,QAAQ,EAAE,SAAS;IACnB,aAAa;QACX,OAAO,IAAI,uBAAM,CAAC,cAAI,CAAC,OAAO,CAAC,SAAS,EAAE,sCAAsC,CAAC,CAAC,CAAC;IACrF,CAAC;CACF,CAAC,CAAC;AAEwB,wBAAM","sourcesContent":["import {Worker} from 'worker_threads';\nimport Path from 'path';\nimport os from 'os';\nimport {setupForMainWorker, Broker} from '@wfh/reactivizer/dist/fork-join/node-worker-broker';\nimport {log4File} from '@wfh/plink';\nimport {markdownProcessor} from './markdown-processor';\n\nconst log = log4File(__filename);\n\nconst broker: Broker<typeof markdownProcessor> = setupForMainWorker(markdownProcessor, {\n  name: 'broker',\n  maxNumOfWorker: os.availableParallelism(),\n  debug: false,\n  log(...args: [any]) {\n    log.info(...args);\n  },\n  logStyle: 'noParam',\n  workerFactory() {\n    return new Worker(Path.resolve(__dirname, '../dist/markdown-processor-worker.js'));\n  }\n});\n\nexport {markdownProcessor, broker};\n"]}