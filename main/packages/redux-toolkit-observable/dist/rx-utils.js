"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.reselect = void 0;
const operators_1 = require("rxjs/operators");
function reselect(selectors, combine) {
    return src => {
        return src.pipe(
        // eslint-disable-next-line @typescript-eslint/no-unsafe-return
        (0, operators_1.map)(s => selectors.map(selector => selector(s))), (0, operators_1.distinctUntilChanged)((a, b) => a.every((result, i) => result === b[i])), (0, operators_1.map)(results => combine(...results)));
    };
}
exports.reselect = reselect;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicngtdXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9yeC11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSw4Q0FBeUQ7QUFFekQsU0FBZ0IsUUFBUSxDQUEyQixTQUVsRCxFQUFFLE9BQTBEO0lBQzNELE9BQU8sR0FBRyxDQUFDLEVBQUU7UUFDWCxPQUFPLEdBQUcsQ0FBQyxJQUFJO1FBQ2IsK0RBQStEO1FBQy9ELElBQUEsZUFBRyxFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBbUMsQ0FBQyxFQUNsRixJQUFBLGdDQUFvQixFQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUN2RSxJQUFBLGVBQUcsRUFBQyxPQUFPLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQ3BDLENBQUM7SUFDSixDQUFDLENBQUM7QUFDSixDQUFDO0FBWEQsNEJBV0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge09wZXJhdG9yRnVuY3Rpb259IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNlbGVjdDxULCBSLCBSMSwgUjIsIFIzLCBSNCwgUjU+KHNlbGVjdG9yczogW1xuICAoY3VycmVudDogVCkgPT4gUjEsIChjdXJyZW50OiBUKSA9PiBSMiwgKGN1cnJlbnQ6IFQpID0+IFIzLCAoY3VycmVudDogVCkgPT4gUjQsIChjdXJyZW50OiBUKSA9PiBSNSwgLi4uKChjdXJyZW50OiBUKSA9PiBhbnkpW11cbl0sIGNvbWJpbmU6ICguLi5yZXN1bHRzOiBbUjEsIFIyLCBSMywgUjQsIFI1LCAuLi5hbnlbXV0pID0+IFIpOiBPcGVyYXRvckZ1bmN0aW9uPFQsIFI+IHtcbiAgcmV0dXJuIHNyYyA9PiB7XG4gICAgcmV0dXJuIHNyYy5waXBlKFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICBtYXAocyA9PiBzZWxlY3RvcnMubWFwKHNlbGVjdG9yID0+IHNlbGVjdG9yKHMpKSBhcyBbUjEsIFIyLCBSMywgUjQsIFI1LCAuLi5hbnlbXV0pLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKGEsIGIpID0+IGEuZXZlcnkoKHJlc3VsdCwgaSkgPT4gcmVzdWx0ID09PSBiW2ldKSksXG4gICAgICBtYXAocmVzdWx0cyA9PiBjb21iaW5lKC4uLnJlc3VsdHMpKVxuICAgICk7XG4gIH07XG59XG4iXX0=