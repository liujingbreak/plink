{"version":3,"file":"duplex.js","sourceRoot":"","sources":["../src/duplex.ts"],"names":[],"mappings":";;;AAAA,uCAAqE;AAIrE,IAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,kBAAkB,EAAE,CAAC;AAE1C,MAAa,gBAAgB;IAS3B,YAAY,IAA2B;;QAF/B,OAAE,GAAG,GAAG,EAAE,CAAC;QAGjB,MAAM,IAAI,GAAG,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,mCAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,sBAAY,iCAAQ,IAAI,KAAE,KAAK,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE,IAAI,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,GAAG,IAAE,CAAC;QAC/H,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,sBAAY,iCAAQ,IAAI,KAAE,KAAK,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE,IAAI,EAAE,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,GAAG,IAAE,CAAC;IAClI,CAAC;IAED,uCAAuC;IACvC,OAAO,CAAC,KAAa;QACnB,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;QACzC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,IAAI,CAAC,EAAE,KAAK,CAAC,CAAC;IAC3C,CAAC;CACF;AApBD,4CAoBC","sourcesContent":["import {CoreOptions, RxController, ActionFunctions} from './control';\n\nexport type DuplexOptions<I extends ActionFunctions = Record<string, never>> = CoreOptions<I>;\n\nlet SEQ = new Date().getUTCMilliseconds();\n\nexport class DuplexController<I extends ActionFunctions, O extends ActionFunctions> {\n  /** input actions controller, abbrevation name of \"inputControl\" */\n  i: RxController<I>;\n  inputControl: RxController<I>;\n  /** output actions controller abbrevation name of \"outputControl\" */\n  o: RxController<O>;\n  outputControl: RxController<O>;\n  private id = SEQ++;\n\n  constructor(opts?: DuplexOptions<I & O>) {\n    const name = opts?.name ?? '';\n    this.inputControl = this.i = new RxController<I>({...opts, debug: opts?.debug, name: name + `#${this.id}.i `, log: opts?.log});\n    this.outputControl = this.o = new RxController<O>({...opts, debug: opts?.debug, name: name + `#${this.id}.o `, log: opts?.log});\n  }\n\n  /** Invoke `setName` on RxController */\n  setName(value: string) {\n    this.i.setName(value + `#${this.id}.i `);\n    this.o.setName(value + `#${this.id}.o `);\n  }\n}\n"]}