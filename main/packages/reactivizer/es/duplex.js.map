{"version":3,"file":"duplex.js","sourceRoot":"","sources":["../src/duplex.ts"],"names":[],"mappings":"AAAA,OAAO,EAAc,YAAY,EAAkB,MAAM,WAAW,CAAC;AAIrE,MAAM,OAAO,gBAAgB;IAQ3B,YAAY,IAA2B;;QACrC,MAAM,IAAI,GAAG,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,IAAI,mCAAI,EAAE,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,YAAY,iCAAQ,IAAI,KAAE,KAAK,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE,IAAI,EAAE,IAAI,GAAG,QAAQ,EAAE,GAAG,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,GAAG,IAAE,CAAC;QACvH,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,CAAC,GAAG,IAAI,YAAY,iCAAQ,IAAI,KAAE,KAAK,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,KAAK,EAAE,IAAI,EAAE,IAAI,GAAG,SAAS,EAAE,GAAG,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,GAAG,IAAE,CAAC;IAC3H,CAAC;IAED,uCAAuC;IACvC,OAAO,CAAC,KAAa;QACnB,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;QACjC,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,KAAK,GAAG,SAAS,CAAC,CAAC;IACpC,CAAC;CACF","sourcesContent":["import {CoreOptions, RxController, ActionFunctions} from './control';\n\nexport type DuplexOptions<I extends ActionFunctions = Record<string, never>> = CoreOptions<I>;\n\nexport class DuplexController<I extends ActionFunctions, O extends ActionFunctions> {\n  /** input actions controller, abbrevation name of \"inputControl\" */\n  i: RxController<I>;\n  inputControl: RxController<I>;\n  /** output actions controller abbrevation name of \"outputControl\" */\n  o: RxController<O>;\n  outputControl: RxController<O>;\n\n  constructor(opts?: DuplexOptions<I & O>) {\n    const name = opts?.name ?? '';\n    this.inputControl = this.i = new RxController<I>({...opts, debug: opts?.debug, name: name + '.input', log: opts?.log});\n    this.outputControl = this.o = new RxController<O>({...opts, debug: opts?.debug, name: name + '.output', log: opts?.log});\n  }\n\n  /** Invoke `setName` on RxController */\n  setName(value: string) {\n    this.i.setName(value + '.input');\n    this.o.setName(value + '.output');\n  }\n}\n"]}