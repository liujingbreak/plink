{"version":3,"file":"node-version-check.js","sourceRoot":"","sources":["../../ts/utils/node-version-check.ts"],"names":[],"mappings":";;AAAA,oDAAyD;AAE1C,KAAK,UAAU,iBAAiB;IAC7C,MAAM,MAAM,GAAG,MAAM,IAAA,8BAAK,EAAC,MAAM,EAAE,IAAI,EAAE,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC;IACzD,MAAM,KAAK,GAAG,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;IAC/C,IAAI,KAAK,EAAE;QACT,IAAI,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,EAAE,EAAE;YAC7C,sCAAsC;YACtC,OAAO,CAAC,GAAG,CAAC,0DAA0D,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YACnF,QAAQ;YACR,kDAAkD;YAClD,iBAAiB;YACjB,4EAA4E;YAC5E,IAAI;YACJ,4DAA4D;SAC7D;KACF;SAAM;QACL,sCAAsC;QACtC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,MAAM,CAAC,CAAC;QAC3D,MAAM,IAAI,KAAK,CAAC,qCAAqC,GAAG,MAAM,CAAC,CAAC;KACjE;AACH,CAAC;AAnBD,oCAmBC","sourcesContent":["import {promisifySpawn as spawn} from '../process-utils';\n\nexport default async function ensureNodeVersion(): Promise<void> {\n  const output = await spawn('node', '-v', {silent: true});\n  const match = /^v?([^]+)$/.exec(output.trim());\n  if (match) {\n    if (parseInt(match[1].split('.')[0], 10) < 12) {\n      // eslint-disable-next-line no-console\n      console.log('Please upgrade Node.js version to v12, current version: ' + match[1]);\n      // try {\n      //   await require('open')('https://nodejs.org/');\n      // } catch (ex) {\n      //   // It is OK for errors, probably dependency 'open' is not installed yet\n      // }\n      // throw new Error('Please upgrade Node.js version to v12');\n    }\n  } else {\n    // eslint-disable-next-line no-console\n    console.log('Can not recognize \"node -v\" output:', output);\n    throw new Error('Can not recognize \"node -v\" output:' + output);\n  }\n}\n"]}