"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const worker_threads_1 = require("worker_threads");
const bootstrap_process_1 = require("@wfh/plink/wfh/dist/utils/bootstrap-process");
(async function () {
    if (!worker_threads_1.isMainThread) {
        (0, bootstrap_process_1.initAsChildProcess)();
        (0, bootstrap_process_1.initConfig)(JSON.parse(process.env.PLINK_CLI_OPTS));
    }
    const { buildTsd } = require('./tsd-generate');
    await buildTsd();
})().catch(err => {
    if (worker_threads_1.parentPort)
        worker_threads_1.parentPort.postMessage(err);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHNkLWdlbmVyYXRlLXRocmVhZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRzZC1nZW5lcmF0ZS10aHJlYWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtREFBeUQ7QUFHekQsbUZBQTJGO0FBQzNGLENBQUMsS0FBSztJQUNKLElBQUksQ0FBQyw2QkFBWSxFQUFFO1FBQ2pCLElBQUEsc0NBQWtCLEdBQUUsQ0FBQztRQUNyQixJQUFBLDhCQUFVLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGNBQWUsQ0FBQyxDQUFDLENBQUM7S0FDckQ7SUFDRCxNQUFNLEVBQUMsUUFBUSxFQUFDLEdBQUcsT0FBTyxDQUFDLGdCQUFnQixDQUFrQixDQUFDO0lBQzlELE1BQU0sUUFBUSxFQUFFLENBQUM7QUFDbkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUU7SUFDZixJQUFJLDJCQUFVO1FBQ1osMkJBQVUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEMsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwYXJlbnRQb3J0LCBpc01haW5UaHJlYWR9IGZyb20gJ3dvcmtlcl90aHJlYWRzJztcbmltcG9ydCAqIGFzIHRzZEdlbiBmcm9tICcuL3RzZC1nZW5lcmF0ZSc7XG5cbmltcG9ydCB7aW5pdENvbmZpZywgaW5pdEFzQ2hpbGRQcm9jZXNzfSBmcm9tICdAd2ZoL3BsaW5rL3dmaC9kaXN0L3V0aWxzL2Jvb3RzdHJhcC1wcm9jZXNzJztcbihhc3luYyBmdW5jdGlvbigpIHtcbiAgaWYgKCFpc01haW5UaHJlYWQpIHtcbiAgICBpbml0QXNDaGlsZFByb2Nlc3MoKTtcbiAgICBpbml0Q29uZmlnKEpTT04ucGFyc2UocHJvY2Vzcy5lbnYuUExJTktfQ0xJX09QVFMhKSk7XG4gIH1cbiAgY29uc3Qge2J1aWxkVHNkfSA9IHJlcXVpcmUoJy4vdHNkLWdlbmVyYXRlJykgYXMgdHlwZW9mIHRzZEdlbjtcbiAgYXdhaXQgYnVpbGRUc2QoKTtcbn0pKCkuY2F0Y2goZXJyID0+IHtcbiAgaWYgKHBhcmVudFBvcnQpXG4gICAgcGFyZW50UG9ydC5wb3N0TWVzc2FnZShlcnIpO1xufSk7XG4iXX0=