{"version":3,"file":"service-client-2.js","sourceRoot":"","sources":["service-client-2.ts"],"names":[],"mappings":";;;AAAA,2DAAqC;AACrC,sCAAiD;AAGjD,IAAA,mBAAW,EAAC,MAAM,CAAC,CAAC;AAEpB,MAAM,GAAG,GAAG,IAAA,gBAAQ,EAAC,UAAU,CAAC,CAAC;AAEjC,MAAM,EAAC,YAAY,EAAC,GAAG,OAAO,CAAC,4DAA4D,CAAoB,CAAC;AAChH,MAAM,MAAM,GAAG,YAAY,EAAE,CAAC;AAC9B,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;AAC3C,MAAM,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC,IAAI,CAClC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAC,OAAO,EAAE,CAAC,GAAG,EAAE,KAAK,CAAC,EAAC,EAAE,EAAE;IACjC,sCAAsC;IACtC,GAAG,CAAC,IAAI,CAAC,4BAA4B,GAAG,gBAAgB,KAAe,EAAE,CAAC,CAAC;AAC7E,CAAC,CAAC,EACF,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CACX,CAAC,SAAS,EAAE,CAAC","sourcesContent":["import * as op from 'rxjs/operators';\nimport {initProcess, log4File} from '@wfh/plink';\nimport * as __client from '@wfh/tool-misc/dist/http-cache-server/cache-service-client';\n\ninitProcess('none');\n\nconst log = log4File(__filename);\n\nconst {createClient} = require('@wfh/tool-misc/dist/http-cache-server/cache-service-client') as typeof __client;\nconst client = createClient();\nclient.dispatcher.subscribeKey('test-key');\nclient.actionOfType('onChange').pipe(\n  op.map(({payload: [key, value]}) => {\n    // eslint-disable-next-line no-console\n    log.info(`2nd client onChange: key ${key} is changed: ${value as string}`);\n  }),\n  op.take(1)\n).subscribe();\n"]}