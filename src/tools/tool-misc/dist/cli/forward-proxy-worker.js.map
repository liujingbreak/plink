{"version":3,"file":"forward-proxy-worker.js","sourceRoot":"","sources":["forward-proxy-worker.ts"],"names":[],"mappings":";;AAAA,sCAAgF;AAGhF,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,YAAY,CAAC,GAAI,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7D,MAAM,WAAW,GAAG,YAAY,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,YAAY,CAAuB,CAAC,CAAC,CAAC,SAAS,CAAC;AAC9F,MAAM,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;AACtE,IAAA,mBAAW,GAAE,CAAC;AACd,IAAA,kBAAU,EAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,cAAe,CAAC,CAAC,CAAC;AACpD,IAAA,mCAA2B,GAAE,CAAC;AAE7B,OAAO,CAAC,qBAAqB,CAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,GAAG,CAAiB,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,EAAE,WAAW;IAC3H,CAAC,CAAC;QACA,iBAAiB,EAAE,WAAW,CAAC,CAAC,CAAC;QACjC,iBAAiB,EAAE,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;KACxE;IACD,CAAC,CAAC,SAAS,CAAC,CAAC","sourcesContent":["import {initProcess, initConfig, initInjectorForNodePackages} from '@wfh/plink';\nimport * as _cfp from './cli-forward-proxy';\n\nconst [port, mapJson, fallbackJson]  = process.argv.slice(2);\nconst fallbackObj = fallbackJson ? JSON.parse(fallbackJson) as undefined | string : undefined;\nconst fallbackArr = fallbackObj ? fallbackJson.split(':') : undefined;\ninitProcess();\ninitConfig(JSON.parse(process.env.PLINK_CLI_OPTS!));\ninitInjectorForNodePackages();\n\n(require('./cli-forward-proxy') as typeof _cfp).start(Number(port), new Map<string, string>(JSON.parse(mapJson)), fallbackArr\n  ? {\n    fallbackProxyHost: fallbackArr[0],\n    fallbackproxyPort: fallbackArr[1] != null ? Number(fallbackArr[1]) : 80\n  }\n  : undefined);\n"]}