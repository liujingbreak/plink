{"version":3,"file":"eslint.js","sourceRoot":"","sources":["eslint.ts"],"names":[],"mappings":";AAAA,0CAA0C;;;;AAE1C,wCAAuC;AACvC,wDAAwB;AACxB,wDAAwB;AAExB;;;GAGG;AACI,KAAK,UAAU,MAAM,CAAC,GAAW;IACtC,MAAM,KAAK,GAAG,MAAM,IAAI,OAAO,CAAW,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QAC5D,IAAA,cAAI,EAAC,GAAG,GAAG,UAAU,EAAE,CAAC,GAAG,EAAE,OAAO,EAAE,EAAE;YACtC,IAAI,GAAG;gBACL,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;YACrB,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC3D,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IACH,MAAM,IAAI,GAAG,CAAC,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,cAAI,CAAC,OAAO,CAAC,SAAS,EAAE,gBAAgB,CAAC,EAAE,EAAE,CAAC,CAAC;IAChG,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;QACxB,IAAI,CAAC,GAAG,EAAE,CAAC;QACX,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAChB,IAAA,aAAO,EAAC,IAAI,EAAE,IAAI,CAAC,CAAC;KACrB;AACH,CAAC;AAdD,wBAcC","sourcesContent":["/// <reference path=\"./eslint-cli.d.ts\" />\n\nimport {execute} from 'eslint/lib/cli';\nimport glob from 'glob';\nimport path from 'path';\n\n/**\n * Run eslint only for .ts file, exclude .d.ts files\n * @param dir \n */\nexport async function eslint(dir: string) {\n  const files = await new Promise<string[]>((resolve, reject) => {\n    glob(dir + '/**/*.ts', (err, matches) => {\n      if (err)\n        return reject(err);\n      resolve(matches.filter(file => !file.endsWith('.d.ts')));\n    });\n  });\n  const args = [...process.argv.slice(0, 2), '-c', path.resolve(__dirname, '../eslintrc.js'), ''];\n  for (const file of files) {\n    args.pop();\n    args.push(file);\n    execute(args, null);\n  }\n}\n"]}