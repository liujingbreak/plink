{"version":3,"file":"cd-clientSpec.js","sourceRoot":"","sources":["cd-clientSpec.ts"],"names":[],"mappings":";;AAAA,gEAAqE;AACrE,+BAAwC;AACxC,8CAA2C;AAE3C,2BAA2B;AAC3B,OAAO,CAAC,wBAAwB,GAAG,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC;AAEjD,QAAQ,CAAC,WAAW,EAAE,GAAG,EAAE;IACzB,GAAG,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;QAElD,MAAM,IAAA,SAAE,EAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE,qBAAc,CAAC;aAC3F,IAAI,CACH,mBAAO;QACP,sCAAsC;QACtC,IAAA,eAAG,EAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,EAC9C,IAAA,kBAAM,EAAS,CAAC,GAAG,EAAE,KAAK,EAAE,EAAE;YAC5B,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChB,OAAO,GAAG,CAAC;QACb,CAAC,EAAE,EAAc,CAAC,EAClB,IAAA,eAAG,EAAC,GAAG,CAAC,EAAE,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC,CAAC,CACzD,CAAC,SAAS,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;IAEH,GAAG,CAAC,wBAAwB,EAAE,KAAK,IAAI,EAAE;QAEvC,MAAM,IAAA,sBAAU,EAAC;YACf,GAAG,EAAE,iCAAiC;YACtC,UAAU,EAAE,uBAAuB;YACnC,SAAS,EAAE,CAAC;YACZ,SAAS,EAAE,CAAC;SACb,EAAE,oCAAoC,CAAC,CAAC;QACzC,sCAAsC;QACtC,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import {toLines, sendAppZip} from '../../content-deployer/cd-client';\nimport {of, asyncScheduler} from 'rxjs';\nimport {tap, reduce} from 'rxjs/operators';\n\n// import Path from 'path';\njasmine.DEFAULT_TIMEOUT_INTERVAL = 5 * 60 * 1000;\n\ndescribe('cd-client', () => {\n  xit('toLines pipe operator should work', async () => {\n\n    await of(Buffer.from('\\nabcd'), Buffer.from('efg\\n123'), Buffer.from('4\\n'), asyncScheduler)\n    .pipe(\n      toLines,\n      // eslint-disable-next-line no-console\n      tap(line => console.log(JSON.stringify(line))),\n      reduce<string>((acc, value) => {\n        acc.push(value);\n        return acc;\n      }, [] as string[]),\n      tap(all => expect(all).toEqual(['', 'abcdefg', '1234']))\n    ).toPromise();\n  });\n\n  xit('sendAppZip should work', async () => {\n\n    await sendAppZip({\n      url: 'http://localhost:14333/_install',\n      remoteFile: 'install-local/testapp',\n      numOfConc: 2,\n      numOfNode: 1\n    }, '/Users/liujing/bk/webui-static.zip');\n    // eslint-disable-next-line no-console\n    console.log('-----------');\n  });\n});\n"]}